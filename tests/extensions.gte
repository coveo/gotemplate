@merge($, $.common)

@define("draw_fir")
  $colors := printf("Fg%s,Bg%s", .fg, .bg)
  $len := .size * 2 * lenc(.char) + len(color($colors))
  @r := to(1, .size*2, 2)
  @if (.reverse) @r := .r[-1:0];
  @for ($n := .r)
    @center($len, color($colors, $.char * $n))
  @end range
@end define

@func("ChristmasTree", "template", "draw_fir", `default { size=20 bg="Green" fg="Red" char="âœ¾" reverse=false } args = ["size int" , "bg string", "fg string", "char string", "reverse bool"] description = "Draw a christmas tree." group = "Funny demo functions" aliases=["ct"]`)
@func("Fir", "template", "draw_fir", `default { size=15 bg="Green" fg="White" char=" " reverse=false } args = ["size int" , "bg string", "fg string", "char string", "reverse bool"] description = "Draw a plain regular fir." group = "Funny demo functions" aliases=["fir"]`)
